export const sqlProductFetch = (columns="") =>{
const sql = "SELECT p.id_pack AS id," + columns + " IF( p.image <> '',p.image,( SELECT ps.s_path FROM package_slider ps WHERE ps.id_pack = p.id_pack LIMIT 1)) AS image,IF(isFixedPrice,p.price,(IF(p.pmt_id = 11, pr.rate,pr.rate / 11.664) * p.weight +(p.dc_rate * p.dc_qty) +(p.mk_pp + p.mk_gm * p.weight +(p.jarti / 100) * ( pm.price * pr.purity / 100 ) * p.weight))) AS dynamic_price,IF(isFixedPrice,0,(IF(p.offer > 0,((IF(p.pmt_id = 11, pr.rate,pr.rate / 11.664) * p.weight +(p.dc_rate * p.dc_qty) +(p.mk_pp + p.mk_gm * p.weight +(p.jarti / 100) * ( pm.price * pr.purity / 100 ) * p.weight)) *(p.offer / 100)),0))) AS discount,IF(isFixedPrice,p.price,(IF(p.pmt_id = 11,pr.rate,pr.rate / 11.664) * p.weight +(p.dc_rate * p.dc_qty) +(p.mk_pp + p.mk_gm * p.weight +(p.jarti / 100) *(pm.price * pr.purity / 100) * p.weight))) - IF(isFixedPrice,0,(IF(p.offer > 0,((IF(p.pmt_id = 11,pr.rate,pr.rate / 11.664) * p.weight +(p.dc_rate * p.dc_qty) +( p.mk_pp + p.mk_gm * p.weight +(p.jarti / 100) *(pm.price * pr.purity / 100) * p.weight)) *(p.offer / 100)),0))) AS final_price,(IF(p.pmt_id = 11, pr.rate,pr.rate / 11.664) * p.weight +(p.dc_rate_b2b * p.dc_qty_b2b) +(p.mk_pp_b2b + p.mk_gm_b2b * p.weight +(p.jarti_b2b / 100) * ( pm.price * pr.purity / 100 ) * p.weight)) AS dynamic_price_b2b,(IF(p.offer_b2b > 0,((IF(p.pmt_id = 11, pr.rate,pr.rate / 11.664) * p.weight +(p.dc_rate_b2b * p.dc_qty_b2b) +(p.mk_pp_b2b + p.mk_gm_b2b * p.weight +(p.jarti_b2b / 100) * ( pm.price * pr.purity / 100 ) * p.weight)) *(p.offer_b2b / 100) ), 0 )) AS discount_b2b,( IF(p.pmt_id = 11, pr.rate,pr.rate / 11.664) * p.weight +(p.dc_rate_b2b * p.dc_qty_b2b) +(p.mk_pp_b2b + p.mk_gm_b2b * p.weight +(p.jarti_b2b / 100) * ( pm.price * pr.purity / 100 ) * p.weight)) - (IF(p.offer_b2b > 0,((IF(p.pmt_id = 11, pr.rate,pr.rate / 11.664) * p.weight +(p.dc_rate_b2b * p.dc_qty_b2b) +(p.mk_pp_b2b + p.mk_gm_b2b * p.weight +(p.jarti_b2b / 100) * ( pm.price * pr.purity / 100 ) * p.weight)) *(p.offer_b2b / 100) ),0)) as final_price_b2b FROM package p JOIN package_metal pr ON p.pmt_id = pr.pmt_id JOIN package_material pm ON p.pm_id = pm.pm_id "
return sql
}